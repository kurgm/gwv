# 更新履歴

この更新履歴には、検証の実行結果の公開ページや実行環境に関する更新情報も含まれています。


## 2020-12-06
- 「命名」の項目において、命名規則リストに `h-XXXX`, `hb[012]-XXXX`, `hc-####`, `h[de]-XXXX`, `ma-XXXX`, `mb[12]-XXXX`, `md(h)-(X)#####`, `me-(X)XXXX###` を追加しました。

## 2020-08-20
- 「命名」の項目において、命名規則リストに `fudemame-eXXX`, `g-zh######`, `s17stdkanjiv-u(X)XXXX`, `t[12345679a]-XXXX` を追加し、`fx-kisho-chimei-###` を削除しました。
- 「重複」の項目において、非漢字グリフでは少しずれて重なっている筆画を許容し、座標が完全に一致する筆画のみを抽出するようにしました。

## 2020-08-19
- 「カド形状・接続」の項目において左下zh用形状を使用すべきかどうかが一部のケースで正しく推定できていないバグを修正しました。
- 「屋根付き細入り→右払い」の（複）曲線が「不正なデータ」でエラーとならないようにしました。

## 2020-08-18
- 「地域字形」の項目において使用している[仮想 J 字形に使わない字形(Group:twe_仮想J置換表)](https://glyphwiki.org/wiki/Group:twe_%E4%BB%AE%E6%83%B3J%E7%BD%AE%E6%8F%9B%E8%A1%A8)と簡体字特有の字形の部品リストを更新しました。

## 2020-03-13
- 「地域字形」などの項目において使用している地域ソースのデータを Unicode 13.0.0 の Unihan_IRGSources.txt から生成したものに変更しました。
- UCSの地域グリフの接尾辞に、UKソースとSソースに対応する `-uk`, `-s` を追加しました。
- 「不正なデータ」の項目で列数が2以下の行を検出できていないバグを修正しました。

## 2020-02-24
- 統合漢字として認識する符号位置に Unicode 13.0 で追加される漢字（拡張 G を含む）を追加しました。
- 「命名」の項目において、`u3XXXX` を含むグリフ名が適切に認識されるよう命名規則を変更しました。

## 2019-10-05
- 「命名」の項目において、`tb-XXXX`, `ac1-#####`, `g[13578eks]-XXXX`, `g-h####`, `g-t####`, `g-hc#####`, `g-hyd#####`, `(g|k|kp|t|h|v)u-XXXXX`, `kX-XXXX`, `pinyin-#*#`, `t12-XXXX` を命名規則リストに追加しました。
- 「命名」の項目において、廃止予定の命名規則 (`geog-qin-*`, `kx-######`) のグリフ名の一覧を、規則に無いグリフ名の一覧から分離しました。

## 2019-06-26
- 「地域字形」の項目において、`unstable-bsh-XXXX` のグリフについて仮想 J 字形に使用しない字形の部品が使われているかどうかのチェックをするようにしました。

## 2019-04-28
- 「命名」の項目において、`tf-XXXX` を命名規則リストに追加しました。

## 2019-04-18
- 「地域字形」の項目において使用している簡体字特有の字形の部品リストを更新しました。

## 2019-03-11
- 「地域字形」の項目において使用している仮想 J 字形に使わない字形と簡体字特有の字形の部品リストを更新しました。
- 「地域字形」の項目でソースが存在しない地域グリフの一覧を、偏化変形グリフとそうでないグリフに分けました。

## 2019-03-09
- 「地域字形」などの項目において使用している地域ソースのデータを Unicode 12.0.0 の Unihan_IRGSources.txt から生成したものに変更しました。
- 「命名」の項目において、`heisei-`グリフの末尾に `s` がついたグリフ名を許容するようにしました。また、`proposal-n####-*`, `proposal-l2-##-###-*`, `tdcntd-######`, `unstable-u(X)XXXX-ufe0X` を命名規則リストに追加しました。

## 2018-09-21
- 「地域字形」の項目において、`irg2017-#####` のグリフについて仮想 J 字形に使用しない字形の部品が使われているかどうかのチェックをするようにしました。

## 2018-09-18
- 「命名」の項目において、`g-za1#####`〜`g-za7#####` を命名規則リストに追加しました。

## 2018-09-17
- 「命名」の項目において、`g-dm#####`, `g-kj#####`, `g-xm#####` を命名規則リストに追加しました。

## 2018-09-11
- 「命名」の項目において、`c11-XXXX`, `c13-XXXX`, `irg2017-#####`, `v-fXXXX` を命名規則リストに追加しました。また、`u(X)XXXX-sans` の偏化変形・var/itaiji と、`u(X)XXXX-vert`, `u(X)XXXX-fullwidth/halfwidth` の var/itaiji を認めるように変更しました。

## 2018-06-30
- 「全角・半角」の項目で グループ:HalfwidthGlyphs が グループ:HalfwidthGlyphs-BMP と グループ:HalfwidthGlyphs-SMP と グループ:HalfwidthGlyphs-nonUCS に分割されたことに対応しました。

## 2018-06-05
- グリフの回転・反転機能に対応しました。
  + 回転・反転機能が使用されているグリフを「カド形状・接続」「重複」「部品の順序」「全角・半角」の各項目のチェック対象から外しました。
  + 「不正なデータ」の項目で回転・反転の行が不正なデータとならないようにしました。

## 2018-06-04
- 「命名」の項目において、命名規則リストの `kx-######` を `kx-#######` に変更しました。

## 2018-04-23
- 「命名」の項目において、`ue0000`〜`ue00ff` を命名規則リストに追加しました。

<!-- ## 2018-03-04 ミスで反映していなかったためコメントアウト -->
- 「命名」の項目において、`uXXXX-sans`，`unstable-nishiki-XXXX` を命名規則リストに追加しました。

## 2018-02-22
- 「地域字形」の項目において、`extf-#####` のグリフについて仮想 J 字形に使用しない字形の部品が使われているかどうかのチェックをしないようにしました。UCS で拡張 F に定義された `u2XXXX(-jv)`（のうち J ソースがないもの）については引き続きチェックしています。
- 「関連字」の項目において、統合漢字 `u(X)XXXX-…` が `extf-#####` のエイリアスであって `extf-#####` の関連字が間違っている（または設定されていない）場合にエラーとするようにしました。
- 「UCSと別名」の項目において、`u(X)XXXX-…` が `extf-#####` のエイリアスである場合にエラーとなるようにしました。

## 2018-02-16
- 「命名」の項目において、`negative-sandbox-*` を命名規則リストに追加しました。

## 2018-01-27
- MJ文字情報一覧表Ver.005.02 リリースに伴い、
  +「MJ文字情報一覧表」の項目において使用しているデータを MJ文字情報一覧表Ver.005.02 に更新しました。
  +「平成明朝(参考)」欄が削除されたため、`heisei-`グリフに関する情報が出ないようになりました。

## 2018-01-21
- 「命名」の項目において、`sdjt-#####`, `unstable-u(X)XXXX-ufe0X` を命名規則リストに追加しました。
<!-- - 「MJ文字情報一覧表」の項目において、`sdjt-#####` と一覧表の新大字典の欄を対応させるようにしました。（影響が無かったためコメントアウト） -->

## 2018-01-17
- 「地域字形」などの項目において使用している地域ソースのデータを [ISO/IEC 10646:2017 5th edition の CJKSrc.txt](http://www.unicode.org/wg2/iso10646/edition5/data/CJKSrc.txt) から生成したものに更新しました。

## 2017-12-23
- 「命名」の項目において、`shincho-#####`, `uk-#####`, `t13-XXXX` を命名規則リストに追加しました。
<!-- - 「MJ文字情報一覧表」の項目において、`shincho-#####` と一覧表の新潮日本語漢字辞典の欄を対応させるようにしました。（影響が無かったためコメントアウト） -->

## 2017-10-22
- 「不正なデータ」の項目において、非漢字グリフで筆画の太さを調整するために筆画タイプに100の倍数を加えているものをエラーとしないようにしました。

## 2017-10-10
- 「命名」の項目において、`parts-u(X)XXXX-###` を命名規則リストに追加しました。

## 2017-07-08
- 「命名」の項目において、`taiwanese-####` を命名規則リストに追加しました。

## 2017-07-01
- 「地域字形」などの項目において使用している地域ソースのデータの生成元を、Unicode 10.0.0 の Unihan_IRGSources.txt に変更しました。

## 2017-05-17
- 「地域字形」の項目において、`extf-…`（の J ソースがないグリフ）, `irg2015-…` のグリフについて仮想 J 字形に使用しない字形の部品が使われているかどうかのチェックをするようにしました。

## 2017-05-10
- プログラム全体を書き直し、[GitHub で公開しました](https://github.com/kurgm/gwv)。基本的に検証の内容は変わっていません（あるいは一部で少し厳しくなっています）。
- `u9fea` と拡張 F グリフを統合漢字と認識するようにしました。
- 「地域字形」の項目において、仮想 J 字形に使用しない字形の部品が使用されているかのチェック対象から `extd-…`, `extf-…` のグリフを除外しました。

## 2016-12-26
- 「命名」の項目において、`g-kx######(#)` を命名規則リストに追加しました。

## 2016-08-29
- 「命名」の項目において、IDS グリフ名中に `u3013`（〓）が含まれている場合に不正な IDS となるようにしました。

## 2016-08-24
- 「命名」の項目において、`unstable-u(X)XXXX` を命名規則リストに追加しました。

## 2016-07-11
- 「命名」の項目において、
  + 漢語大字典グリフのグリフ名接頭辞の変更 (`g-hz1#######`, `g-hz2#######` → `g-hz#######`, `g-hzr#######`) に対応しました。
  + BabelStone Han PUA グリフの接頭辞を命名規則に追加しました。
- MJ文字情報一覧表Ver.005.01 リリースに伴い、
  + 「汎用電子整理番号」欄が廃止されたため、「MJ文字情報一覧表・汎用電子情報交換環境整備プログラム成果報告書」の項目を「MJ文字情報一覧表」に変更し、汎用電子情報交換環境整備プログラム成果報告書の情報を含めないようにしました。
  + 「MJ文字情報一覧表」の項目において使用しているデータを MJ文字情報一覧表Ver.005.01 に更新しました。
  

## 2016-05-31
- 「地域字形」などの項目において使用している地域ソースのデータを ISO/IEC 10646:2014/Amd.2:2016 の CJKSrc.txt から生成したものに更新しました。

## 2016-03-21
- 仮想 K 字形（`u(2)XXXX-kv`、`u(2)XXXX-kv##`）を地域字形の一つとして追加しました。
- 「地域字形」の項目において、K ソースが存在する符号位置に `uXXXX-kv` がある場合にエラーとするようにしました。
- 「命名」の項目において、グループ:prefix とページ名が「グループ:prefix-」から始まるページなどを参考に、命名規則リストに対して規則の追加・削除・修正を行いました。

## 2016-03-18
- Google Drive API v2 から v3 に移行してみたところ、dump データが正常に読み込めるようになったようです。とはいえ、まだ様子見段階です。

## 2016-03-16
- グリフ名の最初が「`u2ff0-u2ff1-`」「`u2ff1-u2ff0-`」のような場合に「最初の部品が横長・縦長に配置されているようです」とならないようにしました。

## 2016-02-15
- このところ、検証の際に dump データが正常に読み込めないようで、変な表示が出るかもしれません（特に中華字海グリフ？）。原因は今のところ不明です。
- 「IDSとの不一致」と「部品の順序」の項目において、接尾コード「`-24`」がついたグリフを下側にくる部品として認識するようにしました。また、「`-01-var-001`」のような偏化変形+var/itaiji も偏化変形グリフとして認識するようにしました。また旧部品も認識するように修正しました。

## 2015-12-14
- 「命名」の項目において、`misc-…` を命名規則リストに追加しました。

## 2015-11-08
- 「命名」の項目において、IDS グリフ名中において `cdpo-XXXX`、`cdpn-XXXX` を使用しても不正な IDS とならないようにしました。
- 「不正なデータ」の項目において、非漢字において等幅線として多用されている「（複）曲線、接続→右払い」または「（複）曲線、接続→止め」を、UCS の非漢字（= 統合漢字でも互換漢字でもない）グリフ・戸籍統一文字の非漢字グリフ（`koseki-9#####`）での使用に限り、「ありえない形状の組み合わせ」にならないようにしました。

## 2015-10-05
- 「MJ文字情報一覧表・汎用電子情報交換環境整備プログラム成果報告書」の項目において、使用しているデータを MJ文字情報一覧表Ver.004.03 に更新しました。

## 2015-10-04
- 「カド形状・接続」の項目において、「左下zh用新カドに左下zh用旧カド形状が使用されています。」の一覧の調査対象に `u2XXXX-i`（UCS2003 グリフ）を追加しました。

## 2015-08-26
- 「命名」の項目において、
  + 『日本の漢字』グリフ名の形式の変更に対応しました。
  + `sawno-fXXXX` を命名規則リストに追加しました。
  + `geog-qin-…` を命名規則リストから削除しました（`qin-XXXXX` へ移動のため）。
  + 異体字セレクタ（`u(2)XXXX-ue01XX` および `u(2)XXXX-ufeXX`）・草書グリフ（`sosho-u(2)XXXX-###`）については、偏化変形を許容するようにしました。var/itaiji は許容されないままです。（ただし、草書グリフの偏化変形グリフは現時点では存在しません。）

## 2015-08-09
- `cdpo-`, `cdpn-`グリフにもグリフ名の後の括弧の中に外字を併記するようにしました。CDP 外字をサポートするフォントがインストールされていれば表示されるかもしれません。
- 「命名」の項目において、許容する CDP 外字のコード範囲を修正しました。

## 2015-06-29
- 「MJ文字情報一覧表・汎用電子情報交換環境整備プログラム成果報告書」の項目において、使用しているデータを MJ文字情報一覧表Ver.004.02 に更新しました（このプログラムに影響する変更点はありませんが、念の為）。

## 2015-05-10
- 「カド形状・接続」の項目で、左下zh用旧・新形状のうちグリフ名から推測して不適当な方を使用しているグリフの一覧を追加しました（「左下zh用旧カドに左下zh用新カド形状が使用されています。」と、その逆）。また、1つのグリフに複数のエラーがある場合に「カド/接続が離れています。」以外を優先するようにしました。（以前は勘違いをしていてどうも優先順位が逆になっていたようです…）
- 「命名」の項目で、命名規則を一部追加・変更しました。

## 2015-05-02
- 実行環境 (Google Apps Script) の一部機能が廃止され、2015-04-20 以降このページが閲覧不能になっていたので修正しました。失礼しました。
- 「カド形状・接続」の項目で「右下T用」を「右下H/T」（グリフエディタでの表記）に名称変更し、この形状の番号の変更に対応しました。
- 「不正なデータ」の項目で、「右下H/T」形状の番号変更を「ありえない形状の組み合わせ」に適用しました。

## 2015-04-19
- 「左下zh用新」形状、「右下T用」（？）形状の実装、及び「左下GT用」形状の「左下zh用旧」形状への改名に伴い、
  + 「カド形状・接続」の項目で、新形状に対応しました。また、「左下GT用」を「左下zh用旧」に、「Tソースに見られる右下カド」を「擬似右下T用カド」に名称変更しました。
  + 「不正なデータ」の項目で、新形状を「ありえない形状の組み合わせ」から除外しました。

## 2014-12-24
- 「地域字形」の項目で、仮想J字形に使わない字形の部品が使用されているグリフの一覧から、簡体字特有の字形の部品が使用されているグリフを除くようにしました。

## 2014-12-18
- 「カド形状・接続」の項目に、「左下カド」形状を使うべき（と思われる）カドに「左下GT用」形状を使用しているグリフ（またはその逆）を追加しました（`uxxxx-g`、`uxxxx-t`、`zihai-######` のみ）。

## 2014-12-06
- 「旧部品の更新」の項目で、「`u`から始まるもの」と「`u`以外から始まるもの」に分けていましたが、「最新版が旧部品を引用していない部品」と「最新版が旧部品を引用している部品」に分けるようにしました。

## 2014-11-21
- 「MJ文字情報一覧表・汎用電子情報交換環境整備プログラム成果報告書」の項目で、関連字が設定されていないエイリアスグリフについては、実体の関連字を参照するようにしました。

## 2014-11-10
- 「全角・半角」の項目で、UCS の Halfwidth and Fullwidth Forms ブロックの半角文字が全角と認識されたり（または逆に全角文字が半角と認識されたり）、`vertical-short-bar` などの横幅の狭い部品を引用している場合に全角と認識されたりする誤検出を減らしました。
<!-- ## 2014-10-14
- 「MJ文字情報一覧表・汎用電子情報交換環境整備プログラム成果報告書」の項目に、欠番の MJ 文字図形名のグリフをエラーとするようにしました。 (該当するグリフが無いためコメントアウト) -->

## 2014-10-12
- 「関連字」の項目で対象グリフに互換漢字（とその`-var/itaiji-###` など）を追加しました。

## 2014-09-29
- 「UCSと別名」の項目において、
  + 拡張 E グリフのエイリアス入れ替え完了に伴い、`uxxxx` が `extd-…`や IDS グリフのエイリアスになっている場合をエラーとするようにしました（`extf-…`, `undefined` のエイリアスになっているものは引き続き許容しています）。
  <!-- - 非漢字についても、`uxxxx-var/itaiji-###` が `uxxxx`（の実体）のエイリアスになっている場合にエラーとするようにしました。（該当するグリフが無いためコメントアウト）-->
- IDS グリフなどの名前に CDP 外字が含まれる際、グリフ名の後の括弧の中ではこれまで CDP 外字を「〓」と表現していましたが、対応する外字領域の文字で表示するように変更しました。また、CDP 外字グリフにもそれを併記するようにしました。CDP 外字をサポートするフォントがインストールされていれば表示されるかもしれません。

## 2014-09-24
- ISO/IEC 10646:2014 発行に伴い、
  + 拡張 E のコードポイントを統合漢字と認識するようにしました。
  + 「関連字」の項目において、`extd-#####` のエイリアスであり関連字が設定されていない場合にエラーとするようにしました。
  +「地域字形」の項目において使用している地域ソースのデータを更新しました。また、Ext. F1, F2 のデータも更新しました。
- 「MJ文字情報一覧表・汎用電子情報交換環境整備プログラム成果報告書」の項目において、使用しているデータを MJ文字情報一覧表Ver.004.01 に更新し、
  + プログラムを改善し、「エイリアス先が間違っている」という誤検出を減らしました。
  + SVS（`uxxxx-ufe0x`）のグリフに対応しました。
  

## 2014-09-15
- 「命名」の項目において、
  + `uxxxx-ue01xx-var/itaiji-###` を命名ガイドライン違反とするようにしました。
  + IDS グリフ名中の基底文字と VS をまとめて（`uxxxx-ue01xx` で）漢字 1 文字とみなすようにしました。
  + IDS グリフ名中に私用領域の文字が含まれている場合に、不正な IDS 名とするようにしました。
  + UCS で符号化された CDP 外字を含む IDS グリフの一覧を追加しました。


## 2014-09-09
- 「UCSと別名」の項目で `uxxxx` が `extd-…`, `extf-…`, `undefined` のエイリアスになっている場合を許容しました。
- 「無の派生」の項目において、`nihon-no-kanji-###-##` を `nihon-no-kanji-###` の派生とみなさないようにしました。

## 2014-05-29
- 「全角・半角」の項目を追加しました。

## 2014-05-17
- プログラムで使用しているデータを掲載しました（誰得）。上のリンクからどうぞ。

## 2014-02-24
- 「カド形状」の項目を「カド形状・接続」と改め、接続(縦)や接続(横)（ただし横画の始点は「開放」も含めています）が近接しているが接続していないグリフの一覧を追加しました。
- 「歪んだ筆画」の項目において、
  + 歪みの角度を表示し、角度の大きい順に並ぶようにしました。
  + （特に筆画が短い場合に）横画が「歪んだ縦画」となったり、縦画が「歪んだ横画」となったりしていたのを修正しました。
  + 縦画について歪んでいると判断する基準を少し変更しました。
  + 縦払いの直線部分と曲線部分の間が折れ曲がっていると判断する基準を変更しました。
  + 縦払いの直線部分が歪んでいるグリフの一覧を追加しました。


## 2014-02-17
- 「無の派生」の項目において、UCS の地域指定+偏化変形のグリフは、偏化変形のみを取ったものを派生元とするようにしました。
- 「日本字形」の項目を「地域字形」と改め、
  + 地域ソースが存在しない UCS/Ext. E/Ext. F のグリフを検出するようにしました。
  + 仮想 J 字形に使わない字形の部品が使用されているグリフの対象に、無印 UCS コードポイント（`uxxxx`）を追加し、J ソースがあるものを除外しました。
  + J ソースが存在するのに作成された `-jv` を検出するようにしました。


## 2014-02-16
- 「カド形状」の項目において、別のカドが近接している場合に発生する誤検出を解消しました。
- 「無の派生」の項目において、“偏化変形”（`-01` など）も検出するようにしました。また、`uxxxx-##-var-###` があるのに `uxxxx-##` が無いというケースも検出するようにしました。
- 「日本字形」の項目で使用している、仮想 J 字形に使わない字形の部品のリストを更新しました。
<!-- - 「命名」の項目に、許可されていないグリフ名のグリフの一覧を追加しました。サロゲートペアが含まれているグリフの一覧はこれに統合されました。 (該当するグリフが無いためコメントアウト) -->

## 2014-01-04
- 「MJ文字情報一覧表」の項目で一部データに誤りがあったため修正しました。

## 2014-01-03
- 「MJ文字情報一覧表」の項目を「MJ文字情報一覧表・汎用電子情報交換環境整備プログラム成果報告書」に変更し、汎用電子情報交換環境整備プログラム成果報告書のデータを含めるようにしました。また、MJ文字情報一覧表Ver.003.01 のデータに更新しました。

## 2013-12-01
- 「日本字形」の仮想J字形に使わない字形の部品が使用されているグリフの対象に `extd-#####`, `extf-#####` を追加しました。~~ただし現状では J ソースがあるものも対象になっているため、要修正です。~~

## 2013-11-14
- プログラムがタイムアウトして更新できない状況が続いていたので、タイムアウトしない環境に移植しました。

## 2013-09-29
- 「MJ文字情報一覧表」の項目において、無印の UCS コードポイントのグリフ（`uxxxx`）に関するエラーが抜けていたバグを修正しました。また、新たに `jmj-######` と `jsp-xxxx`, `jx1-2000(2004)-xxxx`, `jx2-xxxx` のグリフに対応しました。
<!-- - 「命名」の項目に、グリフ名中に（分解された）サロゲートペアが含まれているグリフの一覧を追加しました。 (該当するグリフが無いためコメントアウト) -->

## 2013-09-28
- プログラム実行環境の不調によりしばらく自動更新が止まってしまっていましたが、対策を施しました。しばらく様子見とします。
- 「更新情報」の欄を新設しました。
